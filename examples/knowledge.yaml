facts:
  - [person, alice]
  - [person, bob]
  - [person, charlie]

  - [parent, david, john]
  - [parent, david, mary]

rules:
  - head: [sibling, '?X', '?Y']
    body:
      - [parent, '?P', '?X']
      - [parent, '?P', '?Y']
      - [neq, '?X', '?Y']  # Using a built-in

  # This rule uses an async built-in to check a user's IP address from an external API.
  - head: [user_has_ip, '?User', '?IP']
    body:
      - [person, '?User']  # Ensure the user exists in our KB
      - [http_get_json, 'https://httpbin.org/get', '?Response']
      - [unify_json_path, '?Response', 'origin', '?IP'] # A hypothetical built-in 